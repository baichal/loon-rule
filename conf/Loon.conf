# é…ç½®ä½œè€… @ç™½èŒ¶ https://t.me/baicha00
# æœ€åæ›´æ–°æ—¶é—´ 2023-12-29

[General]
ipv6 = true
# è‡ªå®šä¹‰geoipæ•°æ®åº“çš„url
geoip-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb
# skip-proxyå’ŒHTTP Proxyæœ‰å…³ï¼Œå¦‚æœé…ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆæ‰€é…ç½®çš„è¿™äº›IPæ®µã€åŸŸåå°†ä¸ä¼šè½¬å‘åˆ°Loonï¼Œè€Œæ˜¯ç”±ç³»ç»Ÿå¤„ç†
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.com
# ç›®å‰iOSè®¾å¤‡ä¸Šçš„æµé‡æœ‰ä¸¤ç§æ–¹å¼ä¼ é€’ç»™Loonï¼Œåˆ†åˆ«æ˜¯HTTP Proxyå’ŒTUNï¼ˆå¯ä»¥ç®€å•ç†è§£ä¸ºè™šæ‹Ÿç½‘å¡ï¼‰ï¼Œ
# bypass-tunåˆ™å’ŒTUNæœ‰å…³ï¼Œå¦‚æœé…ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆæ‰€é…ç½®çš„è¿™äº›IPæ®µã€åŸŸåå°±ä¼šä¸äº¤ç»™Loonæ¥å¤„ç†ï¼Œç³»ç»Ÿç›´æ¥å¤„ç†
bypass-tun = localhost,*.local,10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# dnsæœåŠ¡ï¼Œsystemè¡¨ç¤ºç³»ç»Ÿè‡ªå¸¦dnsæœåŠ¡å™¨
dns-server = 223.5.5.5,119.29.29.29,2400:3200::1
# DoH serverï¼Œæ ‡å‡†çš„urlæ ¼å¼ï¼Œä»¥,åˆ†å‰²å¤šä¸ªåœ°å€
doh-server = https://223.5.5.5/dns-query,https://120.53.53.53/dns-query,https://8.8.8.8/dns-query,https://dns.twnic.tw/dns-query,https://mingyudns.030101.xyz:444/dns-query
# DoQ serverï¼Œæ ‡å‡†çš„urlæ ¼å¼ï¼Œä»¥,åˆ†å‰²å¤šä¸ªåœ°å€
doq-server = quic://mingyudns.030101.xyz:853
# DoH3 serverï¼Œæ ‡å‡†çš„urlæ ¼å¼ï¼Œä»¥,åˆ†å‰²å¤šä¸ªåœ°å€
doh3-server = h3://223.5.5.5/dns-query
# æ˜¯å¦å…è®¸wifiä¸‹å…±äº«ç½‘ç»œ
allow-wifi-access = false
# wifiå…±äº«å¼€å¯æ—¶httpæœåŠ¡çš„ç«¯å£
wifi-access-http-port = 7222
# wifiå…±äº«å¼€å¯æ—¶socks5æœåŠ¡çš„ç«¯å£
wifi-access-socks5-port = 7221
# èŠ‚ç‚¹æµ‹é€Ÿæ—¶çš„url
proxy-test-url = http://www.gstatic.com/generate_204
# èŠ‚ç‚¹æµ‹é€Ÿæ—¶çš„è¶…æ—¶ç§’æ•°
test-timeout = 5
# æŒ‡å®šæµé‡ä½¿ç”¨å“ªä¸ªç½‘ç»œæ¥å£è¿›è¡Œè½¬å‘ï¼Œç›®å‰åŒ…å«ä¸‰ç§æ¨¡å¼:
 # Auto: ç³»ç»Ÿè‡ªåŠ¨åˆ†é…
 # Cellular: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹æŒ‡å®šä½¿ç”¨èœ‚çªç½‘ç»œ
 # Performace: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹ä½¿ç”¨æœ€ä¼˜çš„ç½‘ç»œæ¥å£
 # Balance: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹ï¼Œå‡è¡¡ä½¿ç”¨ç½‘ç»œæ¥å£
interface-mode = auto
# ä¸€ä¸ªèŠ‚ç‚¹è¿æ¥å¤±è´¥å‡ æ¬¡åä¼šè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢ï¼Œé»˜è®¤3æ¬¡
switch-node-after-failure-times = 1
# å±è”½UDPç«¯å£
disable-stun = true
# æŠ“åŒ…
sni-sniffing = true
# çœŸå®IP
real-ip = *.apple.com,*.iCloud.com
# è®¢é˜…èµ„æºè§£æå™¨é“¾æ¥
resource-parser = https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/Sub-Store/sub-store-parser_for_loon.js
fast-switch = false
disconnect-on-policy-change = true
#æœ¬åœ°èŠ‚ç‚¹
[Proxy]


#  è®¢é˜…èŠ‚ç‚¹
[Remote Proxy]

[Remote Filter]
all = NameRegex, FilterKey = "^(?!.*âœ…)"
fast = NameRegex, FilterKey = "^(?=.*(.*))(?!.*((?i)âœ…|å›å›½|æ ¡å›­|æ•™è‚²|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|åˆ°æœŸ|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|ç¾¤|(\b(USE|USED|TOTAL|EXPIRE|EMAIL)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$"
HK = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
TW = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
JP = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
US = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
SG = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
IN = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡®ğŸ‡³|å°åº¦|ç­åŠ ç½—å°”|å­Ÿä¹°|(\b(Mumbai|IN|India)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\b(GAME)\b))).*$"
Other_Filter = NameRegex, FilterKey = "^((?!ğŸ‡­ğŸ‡°|æ¸¯|HK|Hong|ğŸ‡¹ğŸ‡¼|å°|TW|Tai|ğŸ‡¯ğŸ‡µ|æ—¥|JP|Japan|ğŸ‡¸ğŸ‡¬|å¡|ç‹®åŸ|SG|Singapore|ğŸ‡°ğŸ‡·|éŸ©|KR|KOR|Korea|ğŸ‡ºğŸ‡¸|ç¾|US|States|American|Music).)*$"
è§£é”èŠ‚ç‚¹ç­›é€‰ = NameRegex, FilterKey = "NF|å¥ˆé£|è§£é”|Netflix|NETFLIX|Media|GPT|AI|å®¶å®½|æ¸¸æˆ|GAME|game"


# åˆ†æµç­–ç•¥ç»„
[Proxy Group]

å…¨éƒ¨èŠ‚ç‚¹ = select,ä¼˜é€‰èŠ‚ç‚¹,è§£é”èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,all,img-url = https://cdn3.iconfinder.com/data/icons/iconpark-vol-9/48/all-application-64.png

ä¼˜é€‰èŠ‚ç‚¹ = url-test,fast,url = http://spurl.030101.xyz,interval = 180,img-url = https://raw.githubusercontent.com/fmz200/wool_scripts/main/icons/lige47/rocket(1).png

# å«åŠŸèƒ½ç­–ç•¥ç»„
è§£é”èŠ‚ç‚¹ = fallback,è§£é”èŠ‚ç‚¹ç­›é€‰,url = https://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 1000,img-url = https://raw.githubusercontent.com/mphin/GroupIcons/main/icon/emoji/openmoji/emojiall_key.png

# åœ°åŒºç­–ç•¥ç»„
é¦™æ¸¯èŠ‚ç‚¹ = select,HK,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
ç¾å›½èŠ‚ç‚¹ = select,US,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
ç‹®åŸèŠ‚ç‚¹ = select,SG,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
æ—¥æœ¬èŠ‚ç‚¹ = select,JP,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
å°æ¹¾èŠ‚ç‚¹ = select,TW,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
å…¶ä»–èŠ‚ç‚¹ = select,Other_Filter,img-url = https://github.com/shindgewongxj/WHATSINStash/raw/main/icon/urltest.png


# æœ¬åœ°è§„åˆ™
[Rule]
GEOIP,cn,DIRECT
FINAL,å…¨éƒ¨èŠ‚ç‚¹


# è®¢é˜…è§„åˆ™
[Remote Rule]
https://raw.githubusercontent.com/elnfnoosm/iOS_network/main/rule/China-rule/China-rule.list,policy=DIRECT, tag=å›½å†…ç›´è¿, enabled=true
https://raw.githubusercontent.com/elnfnoosm/iOS_network/main/rule/Reject-rule/Reject-rule.list, policy=DIRECT, tag=æ‹¦æˆªå¹¿å‘Š, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Filter/Extra/Apple/BlockiOSUpdate.list, policy=REJECT, tag=ç¦æ­¢iosæ›´æ–°, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Speedtest/Speedtest.list, policy=ä¼˜é€‰èŠ‚ç‚¹, tag=Speedtest, parser-enable=true, enabled=true
https://raw.githubusercontent.com/ymyuuu/config/main/LIST/ymy-proxy.list, policy=ä¼˜é€‰èŠ‚ç‚¹, tag=DIY-PROXY, enabled=true
https://raw.githubusercontent.com/ymyuuu/config/main/LIST/ymy-direct.list, policy=DIRECT, tag=DIY-DIRECT, enabled=true
# https://raw.githubusercontent.com/deezertidal/private/main/rule/AntiAD.list, policy=REJECT, tag=AntiAD, enabled=true
https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_direct_list.module, policy=DIRECT, tag=Everyday-Direct, enabled=true
https://raw.githubusercontent.com/GMOogway/shadowrocket-rules/master/sr_proxy_list.module, policy=ä¼˜é€‰èŠ‚ç‚¹, tag=Everyday-Proxy, enabled=true
https://whatshub.top/plugin/adultraplus.plugin, policy=REJECT, tag=å»å¼€å±å¹¿å‘Š, enabled=true


# æ’ä»¶
[Plugin]
http://script.hub/file/_start_/https://raw.githubusercontent.com/fmz200/wool_scripts/main/QuantumultX/rewrite/chongxie.txt/_end_/chongxie.plugin?type=qx-rewrite&target=loon-plugin&del=true, enabled=true
https://raw.githubusercontent.com/Keywos/rule/main/loon/Netisp.plugin, enabled=true
https://raw.githubusercontent.com/sub-store-org/Sub-Store/master/config/Loon.plugin, policy=ä¼˜é€‰èŠ‚ç‚¹, enabled=false
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Download.plugin, enabled=true
https://gitee.com/baichagege/ticket-grabbing-bp-grabbing/raw/master/%E7%8C%AB%E7%9C%BC/%E7%8C%AB%E7%9C%BCBP.plugin, enabled=true
https://gitee.com/baichagege/ticket-grabbing-bp-grabbing/raw/master/%E7%BA%B7%E7%8E%A9%E5%B2%9B/%E7%BA%B7%E7%8E%A9%E5%B2%9B.plugin, enabled=true
http://script.hub/file/_start_/https://raw.githubusercontent.com/fmz200/wool_scripts/main/QuantumultX/filter/fenliuxiuzheng.list/_end_/fenliuxiuzheng.plugin?type=qx-rewrite&target=loon-plugin&del=true, enabled=true
https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.loon.plugin, policy=ä¼˜é€‰èŠ‚ç‚¹, enabled=true
https://raw.githubusercontent.com/chengkongyiban/Loon/main/Loon-Gallery/UnblockURLinWeChat.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/BaiduCloud.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/biliad.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/gddt.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/wnds.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/AdBlock.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/bili.plugin, enabled=true
https://raw.githubusercontent.com/deezertidal/private/master/plugallery/MediaChecker.plugin, enabled=true
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/plugin/HTTPDNS.Block.plugin, enabled=true
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/plugin/General.plugin, enabled=true

[Mitm]
enable = false
skip-server-cert-verify = true
